# Enhanced Sync Controls with Progress Feedback

## Optimized Prompt

**Implement enhanced sync controls for planned units and aggregates with progress feedback.**

### Current State:
- The existing `SyncControl` page (`app/Livewire/Admin/SyncControl.php`) handles circuit syncing
- Planned units snapshots are synced via `PlannedUnitsSyncJob` but lack admin controls
- Aggregates (daily/weekly) are computed but without manual trigger options

### Requirements:

#### 1. Sync Control Enhancements:
- Add toggle to enable/disable planned units sync per circuit or globally
- Add manual trigger buttons for: planned units sync, daily aggregates, weekly aggregates
- Add batch controls (sync all circuits matching current analytics filters)

#### 2. Progress Feedback:
- Real-time progress bar showing sync progress (e.g., "Syncing circuit 45 of 120")
- Live log output showing what's happening (success/skip/error per circuit)
- Use Livewire streaming or polling for updates

#### 3. Granular Controls:
- Individual circuit sync buttons on the circuit browser page
- Configurable sync intervals (currently hardcoded 12 hours in `Circuit::scopeNeedsSync`)
- Dry-run mode to preview what would sync without executing

### Technical Constraints:
- Must work with the existing job queue system
- Respect the global `AnalyticsSetting` filters (scope year, cycle types, contractors)
- Follow existing DaisyUI component patterns

---

## Context

This prompt was generated by Lyra to address the need for:
1. More control over syncing planned units and aggregates
2. Better visibility into sync operations with progress indicators
3. Admin controls that currently don't exist for planned units syncing
